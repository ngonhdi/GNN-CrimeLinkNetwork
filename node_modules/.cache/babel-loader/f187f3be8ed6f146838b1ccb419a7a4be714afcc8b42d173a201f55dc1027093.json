{"ast":null,"code":"import _objectSpread from\"C:/Users/ADMIN/Downloads/crime-link-gnn/crime-link-gnn-fe-new/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NetworkGraph=_ref=>{let{nodes,edges,highlightedNodes,onNodeClick}=_ref;const svgRef=useRef(null);const[positions,setPositions]=useState([]);useEffect(()=>{// Generate node positions in a force-directed layout simulation\nconst centerX=300;const centerY=200;const newPositions=nodes.map((node,i)=>_objectSpread(_objectSpread({},node),{},{x:centerX+Math.cos(i/nodes.length*Math.PI*2)*(100+Math.random()*80),y:centerY+Math.sin(i/nodes.length*Math.PI*2)*(80+Math.random()*60)}));setPositions(newPositions);},[nodes]);return/*#__PURE__*/_jsxs(\"svg\",{ref:svgRef,viewBox:\"0 0 600 400\",className:\"network-graph\",children:[/*#__PURE__*/_jsxs(\"defs\",{children:[/*#__PURE__*/_jsxs(\"filter\",{id:\"glow\",children:[/*#__PURE__*/_jsx(\"feGaussianBlur\",{stdDeviation:\"3\",result:\"coloredBlur\"}),/*#__PURE__*/_jsxs(\"feMerge\",{children:[/*#__PURE__*/_jsx(\"feMergeNode\",{in:\"coloredBlur\"}),/*#__PURE__*/_jsx(\"feMergeNode\",{in:\"SourceGraphic\"})]})]}),/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"edgeGradient\",x1:\"0%\",y1:\"0%\",x2:\"100%\",y2:\"0%\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",stopColor:\"#00f5d4\",stopOpacity:\"0.2\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"50%\",stopColor:\"#00f5d4\",stopOpacity:\"0.8\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"100%\",stopColor:\"#00f5d4\",stopOpacity:\"0.2\"})]})]}),edges.map((edge,i)=>{const source=positions.find(p=>p.id===edge.source);const target=positions.find(p=>p.id===edge.target);if(!source||!target)return null;const isHighlighted=highlightedNodes.includes(edge.source)&&highlightedNodes.includes(edge.target);return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"line\",{x1:source.x,y1:source.y,x2:target.x,y2:target.y,stroke:isHighlighted?\"#00f5d4\":\"#2a3a4a\",strokeWidth:isHighlighted?2:1,opacity:isHighlighted?1:0.3,className:isHighlighted?\"edge-animated\":\"\"}),isHighlighted&&/*#__PURE__*/_jsx(\"circle\",{r:\"3\",fill:\"#00f5d4\",filter:\"url(#glow)\",children:/*#__PURE__*/_jsx(\"animateMotion\",{dur:\"1.5s\",repeatCount:\"indefinite\",path:\"M\".concat(source.x,\",\").concat(source.y,\" L\").concat(target.x,\",\").concat(target.y)})})]},i);}),positions.map(node=>{const isHighlighted=highlightedNodes.includes(node.id);const nodeColor=node.type===\"MOTOR VEHICLE THEFT\"?\"#ff6b6b\":node.type===\"NARCOTICS\"?\"#9b59b6\":node.type===\"BURGLARY\"?\"#f39c12\":\"#3498db\";return/*#__PURE__*/_jsxs(\"g\",{onClick:()=>onNodeClick(node),style:{cursor:\"pointer\"},children:[isHighlighted&&/*#__PURE__*/_jsx(\"circle\",{cx:node.x,cy:node.y,r:\"20\",fill:\"none\",stroke:\"#00f5d4\",strokeWidth:\"2\",opacity:\"0.5\",className:\"pulse-ring\"}),/*#__PURE__*/_jsx(\"circle\",{cx:node.x,cy:node.y,r:isHighlighted?12:8,fill:nodeColor,filter:isHighlighted?\"url(#glow)\":\"\",className:isHighlighted?\"node-highlighted\":\"\"}),isHighlighted&&/*#__PURE__*/_jsx(\"text\",{x:node.x,y:node.y-20,textAnchor:\"middle\",fill:\"#fff\",fontSize:\"10\",children:node.id})]},node.id);})]});};export default NetworkGraph;","map":{"version":3,"names":["React","useState","useEffect","useRef","jsx","_jsx","jsxs","_jsxs","NetworkGraph","_ref","nodes","edges","highlightedNodes","onNodeClick","svgRef","positions","setPositions","centerX","centerY","newPositions","map","node","i","_objectSpread","x","Math","cos","length","PI","random","y","sin","ref","viewBox","className","children","id","stdDeviation","result","in","x1","y1","x2","y2","offset","stopColor","stopOpacity","edge","source","find","p","target","isHighlighted","includes","stroke","strokeWidth","opacity","r","fill","filter","dur","repeatCount","path","concat","nodeColor","type","onClick","style","cursor","cx","cy","textAnchor","fontSize"],"sources":["C:/Users/ADMIN/Downloads/crime-link-gnn/crime-link-gnn-fe-new/src/components/shared/NetworkGraph.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nconst NetworkGraph = ({ nodes, edges, highlightedNodes, onNodeClick }) => {\r\n  const svgRef = useRef(null);\r\n  const [positions, setPositions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Generate node positions in a force-directed layout simulation\r\n    const centerX = 300;\r\n    const centerY = 200;\r\n    const newPositions = nodes.map((node, i) => ({\r\n      ...node,\r\n      x:\r\n        centerX +\r\n        Math.cos((i / nodes.length) * Math.PI * 2) * (100 + Math.random() * 80),\r\n      y:\r\n        centerY +\r\n        Math.sin((i / nodes.length) * Math.PI * 2) * (80 + Math.random() * 60),\r\n    }));\r\n    setPositions(newPositions);\r\n  }, [nodes]);\r\n\r\n  return (\r\n    <svg ref={svgRef} viewBox=\"0 0 600 400\" className=\"network-graph\">\r\n      <defs>\r\n        <filter id=\"glow\">\r\n          <feGaussianBlur stdDeviation=\"3\" result=\"coloredBlur\" />\r\n          <feMerge>\r\n            <feMergeNode in=\"coloredBlur\" />\r\n            <feMergeNode in=\"SourceGraphic\" />\r\n          </feMerge>\r\n        </filter>\r\n        <linearGradient id=\"edgeGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\r\n          <stop offset=\"0%\" stopColor=\"#00f5d4\" stopOpacity=\"0.2\" />\r\n          <stop offset=\"50%\" stopColor=\"#00f5d4\" stopOpacity=\"0.8\" />\r\n          <stop offset=\"100%\" stopColor=\"#00f5d4\" stopOpacity=\"0.2\" />\r\n        </linearGradient>\r\n      </defs>\r\n\r\n      {/* Edges */}\r\n      {edges.map((edge, i) => {\r\n        const source = positions.find((p) => p.id === edge.source);\r\n        const target = positions.find((p) => p.id === edge.target);\r\n        if (!source || !target) return null;\r\n        const isHighlighted =\r\n          highlightedNodes.includes(edge.source) &&\r\n          highlightedNodes.includes(edge.target);\r\n        return (\r\n          <g key={i}>\r\n            <line\r\n              x1={source.x}\r\n              y1={source.y}\r\n              x2={target.x}\r\n              y2={target.y}\r\n              stroke={isHighlighted ? \"#00f5d4\" : \"#2a3a4a\"}\r\n              strokeWidth={isHighlighted ? 2 : 1}\r\n              opacity={isHighlighted ? 1 : 0.3}\r\n              className={isHighlighted ? \"edge-animated\" : \"\"}\r\n            />\r\n            {isHighlighted && (\r\n              <circle r=\"3\" fill=\"#00f5d4\" filter=\"url(#glow)\">\r\n                <animateMotion\r\n                  dur=\"1.5s\"\r\n                  repeatCount=\"indefinite\"\r\n                  path={`M${source.x},${source.y} L${target.x},${target.y}`}\r\n                />\r\n              </circle>\r\n            )}\r\n          </g>\r\n        );\r\n      })}\r\n\r\n      {/* Nodes */}\r\n      {positions.map((node) => {\r\n        const isHighlighted = highlightedNodes.includes(node.id);\r\n        const nodeColor =\r\n          node.type === \"MOTOR VEHICLE THEFT\"\r\n            ? \"#ff6b6b\"\r\n            : node.type === \"NARCOTICS\"\r\n            ? \"#9b59b6\"\r\n            : node.type === \"BURGLARY\"\r\n            ? \"#f39c12\"\r\n            : \"#3498db\";\r\n        return (\r\n          <g\r\n            key={node.id}\r\n            onClick={() => onNodeClick(node)}\r\n            style={{ cursor: \"pointer\" }}\r\n          >\r\n            {isHighlighted && (\r\n              <circle\r\n                cx={node.x}\r\n                cy={node.y}\r\n                r=\"20\"\r\n                fill=\"none\"\r\n                stroke=\"#00f5d4\"\r\n                strokeWidth=\"2\"\r\n                opacity=\"0.5\"\r\n                className=\"pulse-ring\"\r\n              />\r\n            )}\r\n            <circle\r\n              cx={node.x}\r\n              cy={node.y}\r\n              r={isHighlighted ? 12 : 8}\r\n              fill={nodeColor}\r\n              filter={isHighlighted ? \"url(#glow)\" : \"\"}\r\n              className={isHighlighted ? \"node-highlighted\" : \"\"}\r\n            />\r\n            {isHighlighted && (\r\n              <text\r\n                x={node.x}\r\n                y={node.y - 20}\r\n                textAnchor=\"middle\"\r\n                fill=\"#fff\"\r\n                fontSize=\"10\"\r\n              >\r\n                {node.id}\r\n              </text>\r\n            )}\r\n          </g>\r\n        );\r\n      })}\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default NetworkGraph;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}