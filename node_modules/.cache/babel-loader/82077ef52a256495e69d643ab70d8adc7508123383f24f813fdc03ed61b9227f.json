{"ast":null,"code":"import React,{useState}from\"react\";import GoogleMapHotspot from\"../shared/GoogleMapHotspot\";import{hotspotLocations,hanoiCenter,defaultZoom}from\"../../data/hotspotData\";/**\r\n * Hotspot Prediction Tab V2 - v·ªõi Google Maps th·∫≠t\r\n * Tham kh·∫£o: Palantir Gotham, PredPol, ArcGIS Crime Analysis\r\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const HotspotPredictionTabV2=()=>{const[selectedTimeframe,setSelectedTimeframe]=useState(\"next_7_days\");const[selectedCrimeType,setSelectedCrimeType]=useState(\"all\");const[selectedWard,setSelectedWard]=useState(\"all\");const[showHeatmap,setShowHeatmap]=useState(true);const[isAnalyzing,setIsAnalyzing]=useState(false);const[analysisComplete,setAnalysisComplete]=useState(false);const[filteredHotspots,setFilteredHotspots]=useState(hotspotLocations);const[activeAction,setActiveAction]=useState(null);// \"deploy\", \"detail\", \"alert\"\nconst[selectedHotspot,setSelectedHotspot]=useState(null);// X·ª≠ l√Ω c√°c action buttons - Hi·ªÉn th·ªã trong giao di·ªán\nconst handleDeployPatrol=hotspot=>{setSelectedHotspot(hotspot);setActiveAction(\"deploy\");};const handleViewDetail=hotspot=>{setSelectedHotspot(hotspot);setActiveAction(\"detail\");};const handleSetAlert=hotspot=>{setSelectedHotspot(hotspot);setActiveAction(\"alert\");};const closeActionPanel=()=>{setActiveAction(null);setSelectedHotspot(null);};// X·ª≠ l√Ω ph√¢n t√≠ch\nconst handleAnalyze=()=>{setIsAnalyzing(true);setAnalysisComplete(false);// Simulate analysis process\nsetTimeout(()=>{// Filter hotspots based on criteria\nlet filtered=[...hotspotLocations];// Filter by crime type\nif(selectedCrimeType!==\"all\"){filtered=filtered.filter(hotspot=>hotspot.crimeTypes.some(type=>type.toLowerCase().includes(selectedCrimeType.toLowerCase())));}// Filter by ward (ph∆∞·ªùng)\nif(selectedWard!==\"all\"){filtered=filtered.filter(hotspot=>hotspot.ward===selectedWard);}// Sort by probability (highest first)\nfiltered.sort((a,b)=>b.probability-a.probability);setFilteredHotspots(filtered);setIsAnalyzing(false);setAnalysisComplete(true);},2000);};const getRiskColor=risk=>{switch(risk){case\"cao\":return\"#e74c3c\";case\"trung b√¨nh\":return\"#f39c12\";case\"th·∫•p\":return\"#27ae60\";default:return\"#6b7c93\";}};const getTrendIcon=trend=>{switch(trend){case\"tƒÉng\":case\"tƒÉng m·∫°nh\":return\"üìà\";case\"gi·∫£m\":return\"üìâ\";case\"·ªïn ƒë·ªãnh\":return\"‚û°Ô∏è\";default:return\"‚ûñ\";}};// Get unique districts for filter\nconst uniqueWards=[...new Set(hotspotLocations.map(h=>h.ward))];// Statistics\nconst stats={total:filteredHotspots.length,high:filteredHotspots.filter(h=>h.risk===\"cao\").length,medium:filteredHotspots.filter(h=>h.risk===\"trung b√¨nh\").length,low:filteredHotspots.filter(h=>h.risk===\"th·∫•p\").length,avgProbability:Math.round(filteredHotspots.reduce((sum,h)=>sum+h.probability,0)/filteredHotspots.length),totalIncidents:filteredHotspots.reduce((sum,h)=>sum+h.incidentCount30days,0)};return/*#__PURE__*/_jsxs(\"div\",{className:\"hotspot-prediction-tab-v2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hotspot-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hotspot-title-section\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"hotspot-title\",children:\"\\uD83D\\uDDFA\\uFE0F D\\u1EF1 B\\xE1o \\u0110i\\u1EC3m N\\xF3ng T\\u1ED9i Ph\\u1EA1m\"}),/*#__PURE__*/_jsx(\"p\",{className:\"hotspot-subtitle\",children:\"Ph\\xE2n t\\xEDch kh\\xF4ng gian-th\\u1EDDi gian d\\u1EF1 \\u0111o\\xE1n khu v\\u1EF1c c\\xF3 nguy c\\u01A1 cao \\u2022 Powered by GNN + Google Maps\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"filter-label\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-icon\",children:\"\\uD83D\\uDCC5\"}),\"Khung th\\u1EDDi gian d\\u1EF1 b\\xE1o:\"]}),/*#__PURE__*/_jsxs(\"select\",{className:\"filter-select\",value:selectedTimeframe,onChange:e=>setSelectedTimeframe(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"next_24h\",children:\"24 gi\\u1EDD t\\u1EDBi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"next_3_days\",children:\"3 ng\\xE0y t\\u1EDBi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"next_7_days\",children:\"7 ng\\xE0y t\\u1EDBi (Khuy\\u1EBFn ngh\\u1ECB)\"}),/*#__PURE__*/_jsx(\"option\",{value:\"next_14_days\",children:\"14 ng\\xE0y t\\u1EDBi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"next_30_days\",children:\"30 ng\\xE0y t\\u1EDBi\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"filter-label\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-icon\",children:\"\\uD83C\\uDFAF\"}),\"Lo\\u1EA1i t\\u1ED9i ph\\u1EA1m:\"]}),/*#__PURE__*/_jsxs(\"select\",{className:\"filter-select\",value:selectedCrimeType,onChange:e=>setSelectedCrimeType(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"T\\u1EA5t c\\u1EA3 lo\\u1EA1i\"}),/*#__PURE__*/_jsx(\"option\",{value:\"tr\\u1ED9m c\\u1EAFp\",children:\"Tr\\u1ED9m c\\u1EAFp\"}),/*#__PURE__*/_jsx(\"option\",{value:\"c\\u01B0\\u1EDBp\",children:\"C\\u01B0\\u1EDBp gi\\u1EADt\"}),/*#__PURE__*/_jsx(\"option\",{value:\"\\u0111\\u1ED9t nh\\u1EADp\",children:\"\\u0110\\u1ED9t nh\\u1EADp\"}),/*#__PURE__*/_jsx(\"option\",{value:\"m\\xF3c t\\xFAi\",children:\"M\\xF3c t\\xFAi\"}),/*#__PURE__*/_jsx(\"option\",{value:\"xe\",children:\"Li\\xEAn quan xe\"}),/*#__PURE__*/_jsx(\"option\",{value:\"l\\u1EEBa \\u0111\\u1EA3o\",children:\"L\\u1EEBa \\u0111\\u1EA3o\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"filter-label\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"label-icon\",children:\"\\uD83D\\uDCCD\"}),\"Khu v\\u1EF1c:\"]}),/*#__PURE__*/_jsxs(\"select\",{className:\"filter-select\",value:selectedWard,onChange:e=>setSelectedWard(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"To\\xE0n th\\xE0nh ph\\u1ED1\"}),uniqueWards.map(ward=>/*#__PURE__*/_jsx(\"option\",{value:ward,children:ward},ward))]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"analyze-button \".concat(isAnalyzing?\"analyzing\":\"\"),onClick:handleAnalyze,disabled:isAnalyzing,children:isAnalyzing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"spinner\"}),\"\\u0110ang ph\\xE2n t\\xEDch...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z\"})}),\"\\uD83D\\uDD0D B\\u1EAFt \\u0111\\u1EA7u Ph\\xE2n t\\xEDch D\\u1EF1 b\\xE1o\"]})}),/*#__PURE__*/_jsxs(\"button\",{className:\"toggle-heatmap \".concat(showHeatmap?\"active\":\"\"),onClick:()=>setShowHeatmap(!showHeatmap),children:[showHeatmap?\"üî• T·∫Øt\":\"üó∫Ô∏è B·∫≠t\",\" L\\u1EDBp Nhi\\u1EC7t\"]})]}),isAnalyzing&&/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-progress\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"progress-text\",children:\"\\u0110ang ph\\xE2n t\\xEDch d\\u1EEF li\\u1EC7u 87,000 v\\u1EE5 \\xE1n \\u2022 3.2M h\\u1ED3 s\\u01A1 \\u2022 15K camera...\"})]}),analysisComplete&&!isAnalyzing&&/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-complete\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"complete-icon\",children:\"\\u2705\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"complete-text\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ph\\xE2n t\\xEDch ho\\xE0n t\\u1EA5t!\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"T\\xECm th\\u1EA5y \",filteredHotspots.length,\" \\u0111i\\u1EC3m n\\xF3ng ph\\xF9 h\\u1EE3p v\\u1EDBi ti\\xEAu ch\\xED l\\u1ECDc. H\\u1EC7 th\\u1ED1ng khuy\\u1EBFn ngh\\u1ECB \\u01B0u ti\\xEAn \",stats.high,\" khu v\\u1EF1c c\\xF3 nguy c\\u01A1 cao.\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hotspot-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"map-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"map-container-google\",children:/*#__PURE__*/_jsx(GoogleMapHotspot,{hotspots:filteredHotspots,center:hanoiCenter,zoom:defaultZoom,showHeatmap:showHeatmap})}),/*#__PURE__*/_jsxs(\"div\",{className:\"map-legend-panel\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-title\",children:\"\\uD83D\\uDCCA Ch\\xFA gi\\u1EA3i:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend-items-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-marker high\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Nguy c\\u01A1 Cao (>80%)\"}),/*#__PURE__*/_jsx(\"strong\",{children:stats.high})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-marker medium\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Nguy c\\u01A1 TB (50-80%)\"}),/*#__PURE__*/_jsx(\"strong\",{children:stats.medium})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"legend-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"legend-marker low\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Nguy c\\u01A1 Th\\u1EA5p (<50%)\"}),/*#__PURE__*/_jsx(\"strong\",{children:stats.low})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hotspots-list-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"list-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uD83D\\uDCCB Danh S\\xE1ch \\u0110i\\u1EC3m N\\xF3ng \\u01AFu Ti\\xEAn\",selectedWard!==\"all\"&&\" - \".concat(selectedWard)]}),/*#__PURE__*/_jsxs(\"span\",{className:\"list-count\",children:[filteredHotspots.length,\" khu v\\u1EF1c\",stats.high>0&&\" \\u2022 \".concat(stats.high,\" CAO\")]})]}),filteredHotspots.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-results\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"no-results-icon\",children:\"\\uD83D\\uDD0D\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Kh\\xF4ng t\\xECm th\\u1EA5y \\u0111i\\u1EC3m n\\xF3ng ph\\xF9 h\\u1EE3p v\\u1EDBi ti\\xEAu ch\\xED l\\u1ECDc.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"reset-filters-btn\",onClick:()=>{setSelectedCrimeType(\"all\");setSelectedWard(\"all\");handleAnalyze();},children:\"\\uD83D\\uDD04 \\u0110\\u1EB7t l\\u1EA1i b\\u1ED9 l\\u1ECDc\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"hotspots-grid\",children:filteredHotspots.map((hotspot,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"hotspot-card\",style:{animationDelay:\"\".concat(idx*0.1,\"s\")},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hotspot-card-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"hotspot-location\",children:/*#__PURE__*/_jsx(\"div\",{className:\"location-area\",children:hotspot.area})}),/*#__PURE__*/_jsx(\"div\",{className:\"risk-badge\",style:{background:\"rgba(\".concat(hotspot.risk===\"cao\"?\"231, 76, 60\":hotspot.risk===\"trung b√¨nh\"?\"243, 156, 18\":\"39, 174, 96\",\", 0.2)\"),color:getRiskColor(hotspot.risk),border:\"1px solid \".concat(getRiskColor(hotspot.risk))},children:hotspot.risk.toUpperCase()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"probability-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"probability-label\",children:[\"X\\xE1c su\\u1EA5t x\\u1EA3y ra trong \",selectedTimeframe===\"next_7_days\"?\"7 ng√†y\":selectedTimeframe===\"next_24h\"?\"24h\":\"30 ng√†y\",\" t\\u1EDBi:\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"probability-bar-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"probability-bar\",style:{width:\"\".concat(hotspot.probability,\"%\"),background:getRiskColor(hotspot.risk)},children:/*#__PURE__*/_jsxs(\"span\",{className:\"probability-value\",children:[hotspot.probability,\"%\"]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hotspot-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-icon\",children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-text\",children:hotspot.crimeTypes.join(\", \")})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-icon\",children:\"\\u23F0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"detail-text\",children:hotspot.timePattern})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-icon\",children:\"\\uD83D\\uDCC5\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-text\",children:[\"Cao \\u0111i\\u1EC3m: \",hotspot.peak]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-icon\",children:getTrendIcon(hotspot.trend)}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-text\",children:[\"Xu h\\u01B0\\u1EDBng: \",/*#__PURE__*/_jsx(\"strong\",{children:hotspot.trend}),\" (\",hotspot.trendPercent>0?\"+\":\"\",hotspot.trendPercent,\"%)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-icon\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"detail-text\",children:[\"V\\u1EE5 x\\u1EA3y ra 30 ng\\xE0y qua: \",/*#__PURE__*/_jsx(\"strong\",{children:hotspot.incidentCount30days})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"risk-factors\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"factors-title\",children:\"\\u26A0\\uFE0F Y\\u1EBFu t\\u1ED1 r\\u1EE7i ro:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"factors-tags\",children:hotspot.factors.map((factor,idx)=>/*#__PURE__*/_jsx(\"span\",{className:\"factor-tag\",children:factor},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hotspot-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-btn-small deploy\",onClick:()=>handleDeployPatrol(hotspot),title:\"Tri\\u1EC3n khai l\\u1EF1c l\\u01B0\\u1EE3ng tu\\u1EA7n tra\",children:\"\\uD83D\\uDE94 Tri\\u1EC3n khai Tu\\u1EA7n tra\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn-small detail\",onClick:()=>handleViewDetail(hotspot),title:\"Xem th\\xF4ng tin chi ti\\u1EBFt\",children:\"\\uD83D\\uDCCB Xem Chi ti\\u1EBFt\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-btn-small alert\",onClick:()=>handleSetAlert(hotspot),title:\"Thi\\u1EBFt l\\u1EADp c\\u1EA3nh b\\xE1o t\\u1EF1 \\u0111\\u1ED9ng\",children:\"\\uD83D\\uDD14 Thi\\u1EBFt l\\u1EADp C\\u1EA3nh b\\xE1o\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"last-incident\",children:[\"V\\u1EE5 g\\u1EA7n nh\\u1EA5t: \",/*#__PURE__*/_jsx(\"strong\",{children:hotspot.lastIncident})]})]},hotspot.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"statistics-dashboard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-title\",children:\"\\uD83D\\uDCCA T\\u1ED5ng Quan Ph\\xE2n T\\xEDch\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon red\",children:\"\\uD83D\\uDEA8\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.high}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\u0110i\\u1EC3m n\\xF3ng Cao\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon orange\",children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.medium}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"\\u0110i\\u1EC3m n\\xF3ng Trung b\\xECnh\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon blue\",children:\"\\uD83D\\uDCCA\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-value\",children:[stats.avgProbability,\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"X\\xE1c su\\u1EA5t Trung b\\xECnh\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon purple\",children:\"\\uD83D\\uDCC8\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-value\",children:stats.totalIncidents}),/*#__PURE__*/_jsx(\"div\",{className:\"stat-label\",children:\"V\\u1EE5 trong 30 ng\\xE0y\"})]})]})]})]}),stats.high>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rec-icon\",children:\"\\uD83D\\uDCA1\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Khuy\\u1EBFn Ngh\\u1ECB H\\xE0nh \\u0110\\u1ED9ng\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rec-item priority\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDFAF \\u01AFu ti\\xEAn cao nh\\u1EA5t:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Tri\\u1EC3n khai l\\u1EF1c l\\u01B0\\u1EE3ng tu\\u1EA7n tra t\\u0103ng c\\u01B0\\u1EDDng t\\u1EA1i \",stats.high,\" khu v\\u1EF1c nguy c\\u01A1 cao, \\u0111\\u1EB7c bi\\u1EC7t l\\xE0\",\" \",filteredHotspots.filter(h=>h.risk===\"cao\").slice(0,3).map(h=>h.district).join(\", \")]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rec-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCC5 Khung gi\\u1EDD:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"T\\u1EADp trung v\\xE0o khung gi\\u1EDD 18:00 - 23:00 v\\xE0 01:00 - 05:00 (chi\\u1EBFm 70% c\\xE1c v\\u1EE5)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rec-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDD27 Bi\\u1EC7n ph\\xE1p:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"N\\xE2ng c\\u1EA5p h\\u1EC7 th\\u1ED1ng camera, t\\u0103ng c\\u01B0\\u1EDDng \\xE1nh s\\xE1ng \\u0111\\u01B0\\u1EDDng ph\\u1ED1, ph\\u1ED1i h\\u1EE3p v\\u1EDBi ban qu\\u1EA3n l\\xFD khu v\\u1EF1c\"})]})]})]}),activeAction&&selectedHotspot&&/*#__PURE__*/_jsx(\"div\",{className:\"action-panel-overlay\",onClick:closeActionPanel,children:/*#__PURE__*/_jsxs(\"div\",{className:\"action-panel\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"action-panel-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[activeAction===\"deploy\"&&\"üöî Tri·ªÉn khai Tu·∫ßn tra\",activeAction===\"detail\"&&\"üìã Chi ti·∫øt ƒêi·ªÉm n√≥ng\",activeAction===\"alert\"&&\"üîî Thi·∫øt l·∫≠p C·∫£nh b√°o\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:closeActionPanel,children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-panel-content\",children:[activeAction===\"deploy\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"deploy-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ph\\u01B0\\u1EDDng:\"}),\" \",selectedHotspot.ward]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Khu v\\u1EF1c:\"}),\" \",selectedHotspot.area]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\u1EE9c \\u0111\\u1ED9 r\\u1EE7i ro:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"risk-level \".concat(selectedHotspot.risk),children:selectedHotspot.risk.toUpperCase()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"X\\xE1c su\\u1EA5t:\"}),\" \",selectedHotspot.probability,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Th\\u1EDDi gian t\\u0103ng c\\u01B0\\u1EDDng:\"}),\" \",selectedHotspot.timePattern]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\u1ECDa \\u0111\\u1ED9:\"}),\" \",selectedHotspot.lat,\", \",selectedHotspot.lng]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-box\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCA1 Khuy\\u1EBFn ngh\\u1ECB:\"}),/*#__PURE__*/_jsx(\"p\",{children:selectedHotspot.recommendation})]}),/*#__PURE__*/_jsx(\"button\",{className:\"action-confirm-btn deploy\",children:\"\\u2705 X\\xE1c nh\\u1EADn tri\\u1EC3n khai\"})]}),activeAction===\"detail\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"detail-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ph\\u01B0\\u1EDDng:\"}),\" \",selectedHotspot.ward]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Khu v\\u1EF1c:\"}),\" \",selectedHotspot.area]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\u1EE9c \\u0111\\u1ED9:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"risk-level \".concat(selectedHotspot.risk),children:selectedHotspot.risk.toUpperCase()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"X\\xE1c su\\u1EA5t:\"}),\" \",selectedHotspot.probability,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-section\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDEA8 Lo\\u1EA1i t\\u1ED9i ph\\u1EA1m:\"}),/*#__PURE__*/_jsx(\"ul\",{children:selectedHotspot.crimeTypes.map((type,idx)=>/*#__PURE__*/_jsx(\"li\",{children:type},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-section\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u23F0 Th\\u1EDDi gian cao \\u0111i\\u1EC3m:\"}),\" \",selectedHotspot.timePattern]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-section\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCC5 Ng\\xE0y cao \\u0111i\\u1EC3m:\"}),\" \",selectedHotspot.peak]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-section\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDD0D Y\\u1EBFu t\\u1ED1 nguy c\\u01A1:\"}),/*#__PURE__*/_jsx(\"ul\",{children:selectedHotspot.factors.map((factor,idx)=>/*#__PURE__*/_jsx(\"li\",{children:factor},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCCA Xu h\\u01B0\\u1EDBng:\"}),\" \",selectedHotspot.trend,\" (\",selectedHotspot.trendPercent>0?'+':'',selectedHotspot.trendPercent,\"%)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDD50 V\\u1EE5 g\\u1EA7n nh\\u1EA5t:\"}),\" \",selectedHotspot.lastIncident]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCC8 S\\u1ED1 v\\u1EE5 30 ng\\xE0y:\"}),\" \",selectedHotspot.incidentCount30days]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommendation-box\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCA1 Khuy\\u1EBFn ngh\\u1ECB:\"}),/*#__PURE__*/_jsx(\"p\",{children:selectedHotspot.recommendation})]})]}),activeAction===\"alert\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ph\\u01B0\\u1EDDng:\"}),\" \",selectedHotspot.ward]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Khu v\\u1EF1c:\"}),\" \",selectedHotspot.area]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\u1EE9c \\u0111\\u1ED9:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"risk-level \".concat(selectedHotspot.risk),children:selectedHotspot.risk.toUpperCase()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-row\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Th\\u1EDDi gian:\"}),\" \",selectedHotspot.timePattern]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-settings\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCF1 Nh\\u1EADn th\\xF4ng b\\xE1o qua:\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true}),\" SMS\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true}),\" Email\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true}),\" Push notification\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"alert-triggers\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Khi c\\xF3:\"}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true}),\" V\\u1EE5 vi\\u1EC7c m\\u1EDBi ph\\xE1t sinh\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true}),\" Thay \\u0111\\u1ED5i m\\u1EE9c \\u0111\\u1ED9 r\\u1EE7i ro\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",defaultChecked:true}),\" C\\u1EADp nh\\u1EADt xu h\\u01B0\\u1EDBng\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"action-confirm-btn alert\",children:\"\\uD83D\\uDD14 X\\xE1c nh\\u1EADn thi\\u1EBFt l\\u1EADp c\\u1EA3nh b\\xE1o\"})]})]})]})})]});};export default HotspotPredictionTabV2;","map":{"version":3,"names":["React","useState","GoogleMapHotspot","hotspotLocations","hanoiCenter","defaultZoom","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","HotspotPredictionTabV2","selectedTimeframe","setSelectedTimeframe","selectedCrimeType","setSelectedCrimeType","selectedWard","setSelectedWard","showHeatmap","setShowHeatmap","isAnalyzing","setIsAnalyzing","analysisComplete","setAnalysisComplete","filteredHotspots","setFilteredHotspots","activeAction","setActiveAction","selectedHotspot","setSelectedHotspot","handleDeployPatrol","hotspot","handleViewDetail","handleSetAlert","closeActionPanel","handleAnalyze","setTimeout","filtered","filter","crimeTypes","some","type","toLowerCase","includes","ward","sort","a","b","probability","getRiskColor","risk","getTrendIcon","trend","uniqueWards","Set","map","h","stats","total","length","high","medium","low","avgProbability","Math","round","reduce","sum","totalIncidents","incidentCount30days","className","children","value","onChange","e","target","concat","onClick","disabled","width","height","viewBox","fill","d","hotspots","center","zoom","idx","style","animationDelay","area","background","color","border","toUpperCase","join","timePattern","peak","trendPercent","factors","factor","title","lastIncident","id","slice","district","stopPropagation","lat","lng","recommendation","defaultChecked"],"sources":["C:/Users/ADMIN/Downloads/crime-link-gnn/crime-link-gnn-fe-new/src/components/tabs/HotspotPredictionTabV2.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport GoogleMapHotspot from \"../shared/GoogleMapHotspot\";\r\nimport { hotspotLocations, hanoiCenter, defaultZoom } from \"../../data/hotspotData\";\r\n\r\n/**\r\n * Hotspot Prediction Tab V2 - v·ªõi Google Maps th·∫≠t\r\n * Tham kh·∫£o: Palantir Gotham, PredPol, ArcGIS Crime Analysis\r\n */\r\nconst HotspotPredictionTabV2 = () => {\r\n  const [selectedTimeframe, setSelectedTimeframe] = useState(\"next_7_days\");\r\n  const [selectedCrimeType, setSelectedCrimeType] = useState(\"all\");\r\n  const [selectedWard, setSelectedWard] = useState(\"all\");\r\n  const [showHeatmap, setShowHeatmap] = useState(true);\r\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n  const [analysisComplete, setAnalysisComplete] = useState(false);\r\n  const [filteredHotspots, setFilteredHotspots] = useState(hotspotLocations);\r\n  const [activeAction, setActiveAction] = useState(null); // \"deploy\", \"detail\", \"alert\"\r\n  const [selectedHotspot, setSelectedHotspot] = useState(null);\r\n\r\n  // X·ª≠ l√Ω c√°c action buttons - Hi·ªÉn th·ªã trong giao di·ªán\r\n  const handleDeployPatrol = (hotspot) => {\r\n    setSelectedHotspot(hotspot);\r\n    setActiveAction(\"deploy\");\r\n  };\r\n\r\n  const handleViewDetail = (hotspot) => {\r\n    setSelectedHotspot(hotspot);\r\n    setActiveAction(\"detail\");\r\n  };\r\n\r\n  const handleSetAlert = (hotspot) => {\r\n    setSelectedHotspot(hotspot);\r\n    setActiveAction(\"alert\");\r\n  };\r\n\r\n  const closeActionPanel = () => {\r\n    setActiveAction(null);\r\n    setSelectedHotspot(null);\r\n  };\r\n\r\n  // X·ª≠ l√Ω ph√¢n t√≠ch\r\n  const handleAnalyze = () => {\r\n    setIsAnalyzing(true);\r\n    setAnalysisComplete(false);\r\n\r\n    // Simulate analysis process\r\n    setTimeout(() => {\r\n      // Filter hotspots based on criteria\r\n      let filtered = [...hotspotLocations];\r\n\r\n      // Filter by crime type\r\n      if (selectedCrimeType !== \"all\") {\r\n        filtered = filtered.filter((hotspot) =>\r\n          hotspot.crimeTypes.some((type) => type.toLowerCase().includes(selectedCrimeType.toLowerCase()))\r\n        );\r\n      }\r\n\r\n      // Filter by ward (ph∆∞·ªùng)\r\n      if (selectedWard !== \"all\") {\r\n        filtered = filtered.filter((hotspot) => hotspot.ward === selectedWard);\r\n      }\r\n\r\n      // Sort by probability (highest first)\r\n      filtered.sort((a, b) => b.probability - a.probability);\r\n\r\n      setFilteredHotspots(filtered);\r\n      setIsAnalyzing(false);\r\n      setAnalysisComplete(true);\r\n    }, 2000);\r\n  };\r\n\r\n  const getRiskColor = (risk) => {\r\n    switch (risk) {\r\n      case \"cao\":\r\n        return \"#e74c3c\";\r\n      case \"trung b√¨nh\":\r\n        return \"#f39c12\";\r\n      case \"th·∫•p\":\r\n        return \"#27ae60\";\r\n      default:\r\n        return \"#6b7c93\";\r\n    }\r\n  };\r\n\r\n  const getTrendIcon = (trend) => {\r\n    switch (trend) {\r\n      case \"tƒÉng\":\r\n      case \"tƒÉng m·∫°nh\":\r\n        return \"üìà\";\r\n      case \"gi·∫£m\":\r\n        return \"üìâ\";\r\n      case \"·ªïn ƒë·ªãnh\":\r\n        return \"‚û°Ô∏è\";\r\n      default:\r\n        return \"‚ûñ\";\r\n    }\r\n  };\r\n\r\n  // Get unique districts for filter\r\n  const uniqueWards = [...new Set(hotspotLocations.map((h) => h.ward))];\r\n\r\n  // Statistics\r\n  const stats = {\r\n    total: filteredHotspots.length,\r\n    high: filteredHotspots.filter((h) => h.risk === \"cao\").length,\r\n    medium: filteredHotspots.filter((h) => h.risk === \"trung b√¨nh\").length,\r\n    low: filteredHotspots.filter((h) => h.risk === \"th·∫•p\").length,\r\n    avgProbability: Math.round(\r\n      filteredHotspots.reduce((sum, h) => sum + h.probability, 0) / filteredHotspots.length\r\n    ),\r\n    totalIncidents: filteredHotspots.reduce((sum, h) => sum + h.incidentCount30days, 0),\r\n  };\r\n\r\n  return (\r\n    <div className=\"hotspot-prediction-tab-v2\">\r\n      {/* Header v·ªõi controls */}\r\n      <div className=\"hotspot-header\">\r\n        <div className=\"hotspot-title-section\">\r\n          <h2 className=\"hotspot-title\">üó∫Ô∏è D·ª± B√°o ƒêi·ªÉm N√≥ng T·ªôi Ph·∫°m</h2>\r\n          <p className=\"hotspot-subtitle\">\r\n            Ph√¢n t√≠ch kh√¥ng gian-th·ªùi gian d·ª± ƒëo√°n khu v·ª±c c√≥ nguy c∆° cao ‚Ä¢ Powered by GNN + Google Maps\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filter Panel */}\r\n      <div className=\"filter-panel\">\r\n        <div className=\"filter-group\">\r\n          <label className=\"filter-label\">\r\n            <span className=\"label-icon\">üìÖ</span>\r\n            Khung th·ªùi gian d·ª± b√°o:\r\n          </label>\r\n          <select\r\n            className=\"filter-select\"\r\n            value={selectedTimeframe}\r\n            onChange={(e) => setSelectedTimeframe(e.target.value)}\r\n          >\r\n            <option value=\"next_24h\">24 gi·ªù t·ªõi</option>\r\n            <option value=\"next_3_days\">3 ng√†y t·ªõi</option>\r\n            <option value=\"next_7_days\">7 ng√†y t·ªõi (Khuy·∫øn ngh·ªã)</option>\r\n            <option value=\"next_14_days\">14 ng√†y t·ªõi</option>\r\n            <option value=\"next_30_days\">30 ng√†y t·ªõi</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"filter-group\">\r\n          <label className=\"filter-label\">\r\n            <span className=\"label-icon\">üéØ</span>\r\n            Lo·∫°i t·ªôi ph·∫°m:\r\n          </label>\r\n          <select\r\n            className=\"filter-select\"\r\n            value={selectedCrimeType}\r\n            onChange={(e) => setSelectedCrimeType(e.target.value)}\r\n          >\r\n            <option value=\"all\">T·∫•t c·∫£ lo·∫°i</option>\r\n            <option value=\"tr·ªôm c·∫Øp\">Tr·ªôm c·∫Øp</option>\r\n            <option value=\"c∆∞·ªõp\">C∆∞·ªõp gi·∫≠t</option>\r\n            <option value=\"ƒë·ªôt nh·∫≠p\">ƒê·ªôt nh·∫≠p</option>\r\n            <option value=\"m√≥c t√∫i\">M√≥c t√∫i</option>\r\n            <option value=\"xe\">Li√™n quan xe</option>\r\n            <option value=\"l·ª´a ƒë·∫£o\">L·ª´a ƒë·∫£o</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"filter-group\">\r\n          <label className=\"filter-label\">\r\n            <span className=\"label-icon\">üìç</span>\r\n            Khu v·ª±c:\r\n          </label>\r\n          <select\r\n            className=\"filter-select\"\r\n            value={selectedWard}\r\n            onChange={(e) => setSelectedWard(e.target.value)}\r\n          >\r\n            <option value=\"all\">To√†n th√†nh ph·ªë</option>\r\n            {uniqueWards.map((ward) => (\r\n              <option key={ward} value={ward}>\r\n                {ward}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n\r\n        <button\r\n          className={`analyze-button ${isAnalyzing ? \"analyzing\" : \"\"}`}\r\n          onClick={handleAnalyze}\r\n          disabled={isAnalyzing}\r\n        >\r\n          {isAnalyzing ? (\r\n            <>\r\n              <span className=\"spinner\"></span>\r\n              ƒêang ph√¢n t√≠ch...\r\n            </>\r\n          ) : (\r\n            <>\r\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z\" />\r\n              </svg>\r\n              üîç B·∫Øt ƒë·∫ßu Ph√¢n t√≠ch D·ª± b√°o\r\n            </>\r\n          )}\r\n        </button>\r\n\r\n        <button\r\n          className={`toggle-heatmap ${showHeatmap ? \"active\" : \"\"}`}\r\n          onClick={() => setShowHeatmap(!showHeatmap)}\r\n        >\r\n          {showHeatmap ? \"üî• T·∫Øt\" : \"üó∫Ô∏è B·∫≠t\"} L·ªõp Nhi·ªát\r\n        </button>\r\n      </div>\r\n\r\n      {/* Analysis Progress Indicator */}\r\n      {isAnalyzing && (\r\n        <div className=\"analysis-progress\">\r\n          <div className=\"progress-bar\">\r\n            <div className=\"progress-fill\"></div>\r\n          </div>\r\n          <p className=\"progress-text\">\r\n            ƒêang ph√¢n t√≠ch d·ªØ li·ªáu 87,000 v·ª• √°n ‚Ä¢ 3.2M h·ªì s∆° ‚Ä¢ 15K camera...\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Success Message */}\r\n      {analysisComplete && !isAnalyzing && (\r\n        <div className=\"analysis-complete\">\r\n          <div className=\"complete-icon\">‚úÖ</div>\r\n          <div className=\"complete-text\">\r\n            <strong>Ph√¢n t√≠ch ho√†n t·∫•t!</strong>\r\n            <p>\r\n              T√¨m th·∫•y {filteredHotspots.length} ƒëi·ªÉm n√≥ng ph√π h·ª£p v·ªõi ti√™u ch√≠ l·ªçc. H·ªá th·ªëng khuy·∫øn\r\n              ngh·ªã ∆∞u ti√™n {stats.high} khu v·ª±c c√≥ nguy c∆° cao.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Content */}\r\n      <div className=\"hotspot-content\">\r\n        {/* Google Maps */}\r\n        <div className=\"map-section\">\r\n          <div className=\"map-container-google\">\r\n            <GoogleMapHotspot\r\n              hotspots={filteredHotspots}\r\n              center={hanoiCenter}\r\n              zoom={defaultZoom}\r\n              showHeatmap={showHeatmap}\r\n            />\r\n          </div>\r\n\r\n          {/* Map Legend */}\r\n          <div className=\"map-legend-panel\">\r\n            <div className=\"legend-title\">üìä Ch√∫ gi·∫£i:</div>\r\n            <div className=\"legend-items-grid\">\r\n              <div className=\"legend-item\">\r\n                <div className=\"legend-marker high\"></div>\r\n                <span>Nguy c∆° Cao (&gt;80%)</span>\r\n                <strong>{stats.high}</strong>\r\n              </div>\r\n              <div className=\"legend-item\">\r\n                <div className=\"legend-marker medium\"></div>\r\n                <span>Nguy c∆° TB (50-80%)</span>\r\n                <strong>{stats.medium}</strong>\r\n              </div>\r\n              <div className=\"legend-item\">\r\n                <div className=\"legend-marker low\"></div>\r\n                <span>Nguy c∆° Th·∫•p (&lt;50%)</span>\r\n                <strong>{stats.low}</strong>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Hotspots List */}\r\n        <div className=\"hotspots-list-section\">\r\n          <div className=\"list-header\">\r\n            <h3>\r\n              üìã Danh S√°ch ƒêi·ªÉm N√≥ng ∆Øu Ti√™n\r\n              {selectedWard !== \"all\" && ` - ${selectedWard}`}\r\n            </h3>\r\n            <span className=\"list-count\">\r\n              {filteredHotspots.length} khu v·ª±c\r\n              {stats.high > 0 && ` ‚Ä¢ ${stats.high} CAO`}\r\n            </span>\r\n          </div>\r\n\r\n          {filteredHotspots.length === 0 ? (\r\n            <div className=\"no-results\">\r\n              <div className=\"no-results-icon\">üîç</div>\r\n              <p>Kh√¥ng t√¨m th·∫•y ƒëi·ªÉm n√≥ng ph√π h·ª£p v·ªõi ti√™u ch√≠ l·ªçc.</p>\r\n              <button className=\"reset-filters-btn\" onClick={() => {\r\n                setSelectedCrimeType(\"all\");\r\n                setSelectedWard(\"all\");\r\n                handleAnalyze();\r\n              }}>\r\n                üîÑ ƒê·∫∑t l·∫°i b·ªô l·ªçc\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"hotspots-grid\">\r\n              {filteredHotspots.map((hotspot, idx) => (\r\n                <div key={hotspot.id} className=\"hotspot-card\" style={{ animationDelay: `${idx * 0.1}s` }}>\r\n                  <div className=\"hotspot-card-header\">\r\n                    <div className=\"hotspot-location\">\r\n                      <div className=\"location-area\">{hotspot.area}</div>\r\n                    </div>\r\n                    <div\r\n                      className=\"risk-badge\"\r\n                      style={{\r\n                        background: `rgba(${\r\n                          hotspot.risk === \"cao\"\r\n                            ? \"231, 76, 60\"\r\n                            : hotspot.risk === \"trung b√¨nh\"\r\n                            ? \"243, 156, 18\"\r\n                            : \"39, 174, 96\"\r\n                        }, 0.2)`,\r\n                        color: getRiskColor(hotspot.risk),\r\n                        border: `1px solid ${getRiskColor(hotspot.risk)}`,\r\n                      }}\r\n                    >\r\n                      {hotspot.risk.toUpperCase()}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"probability-section\">\r\n                    <div className=\"probability-label\">X√°c su·∫•t x·∫£y ra trong {selectedTimeframe === \"next_7_days\" ? \"7 ng√†y\" : selectedTimeframe === \"next_24h\" ? \"24h\" : \"30 ng√†y\"} t·ªõi:</div>\r\n                    <div className=\"probability-bar-container\">\r\n                      <div\r\n                        className=\"probability-bar\"\r\n                        style={{\r\n                          width: `${hotspot.probability}%`,\r\n                          background: getRiskColor(hotspot.risk),\r\n                        }}\r\n                      >\r\n                        <span className=\"probability-value\">{hotspot.probability}%</span>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"hotspot-details\">\r\n                    <div className=\"detail-item\">\r\n                      <span className=\"detail-icon\">üéØ</span>\r\n                      <span className=\"detail-text\">{hotspot.crimeTypes.join(\", \")}</span>\r\n                    </div>\r\n                    <div className=\"detail-item\">\r\n                      <span className=\"detail-icon\">‚è∞</span>\r\n                      <span className=\"detail-text\">{hotspot.timePattern}</span>\r\n                    </div>\r\n                    <div className=\"detail-item\">\r\n                      <span className=\"detail-icon\">üìÖ</span>\r\n                      <span className=\"detail-text\">Cao ƒëi·ªÉm: {hotspot.peak}</span>\r\n                    </div>\r\n                    <div className=\"detail-item\">\r\n                      <span className=\"detail-icon\">{getTrendIcon(hotspot.trend)}</span>\r\n                      <span className=\"detail-text\">\r\n                        Xu h∆∞·ªõng: <strong>{hotspot.trend}</strong> ({hotspot.trendPercent > 0 ? \"+\" : \"\"}{hotspot.trendPercent}%)\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"detail-item\">\r\n                      <span className=\"detail-icon\">üìä</span>\r\n                      <span className=\"detail-text\">V·ª• x·∫£y ra 30 ng√†y qua: <strong>{hotspot.incidentCount30days}</strong></span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"risk-factors\">\r\n                    <div className=\"factors-title\">‚ö†Ô∏è Y·∫øu t·ªë r·ªßi ro:</div>\r\n                    <div className=\"factors-tags\">\r\n                      {hotspot.factors.map((factor, idx) => (\r\n                        <span key={idx} className=\"factor-tag\">\r\n                          {factor}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"hotspot-actions\">\r\n                    <button\r\n                      className=\"action-btn-small deploy\"\r\n                      onClick={() => handleDeployPatrol(hotspot)}\r\n                      title=\"Tri·ªÉn khai l·ª±c l∆∞·ª£ng tu·∫ßn tra\"\r\n                    >\r\n                      üöî Tri·ªÉn khai Tu·∫ßn tra\r\n                    </button>\r\n                    <button\r\n                      className=\"action-btn-small detail\"\r\n                      onClick={() => handleViewDetail(hotspot)}\r\n                      title=\"Xem th√¥ng tin chi ti·∫øt\"\r\n                    >\r\n                      üìã Xem Chi ti·∫øt\r\n                    </button>\r\n                    <button\r\n                      className=\"action-btn-small alert\"\r\n                      onClick={() => handleSetAlert(hotspot)}\r\n                      title=\"Thi·∫øt l·∫≠p c·∫£nh b√°o t·ª± ƒë·ªông\"\r\n                    >\r\n                      üîî Thi·∫øt l·∫≠p C·∫£nh b√°o\r\n                    </button>\r\n                  </div>\r\n\r\n                  <div className=\"last-incident\">\r\n                    V·ª• g·∫ßn nh·∫•t: <strong>{hotspot.lastIncident}</strong>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics Dashboard */}\r\n      <div className=\"statistics-dashboard\">\r\n        <div className=\"dashboard-title\">üìä T·ªïng Quan Ph√¢n T√≠ch</div>\r\n        <div className=\"stats-grid\">\r\n          <div className=\"stat-card\">\r\n            <div className=\"stat-icon red\">üö®</div>\r\n            <div className=\"stat-content\">\r\n              <div className=\"stat-value\">{stats.high}</div>\r\n              <div className=\"stat-label\">ƒêi·ªÉm n√≥ng Cao</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"stat-card\">\r\n            <div className=\"stat-icon orange\">‚ö†Ô∏è</div>\r\n            <div className=\"stat-content\">\r\n              <div className=\"stat-value\">{stats.medium}</div>\r\n              <div className=\"stat-label\">ƒêi·ªÉm n√≥ng Trung b√¨nh</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"stat-card\">\r\n            <div className=\"stat-icon blue\">üìä</div>\r\n            <div className=\"stat-content\">\r\n              <div className=\"stat-value\">{stats.avgProbability}%</div>\r\n              <div className=\"stat-label\">X√°c su·∫•t Trung b√¨nh</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"stat-card\">\r\n            <div className=\"stat-icon purple\">üìà</div>\r\n            <div className=\"stat-content\">\r\n              <div className=\"stat-value\">{stats.totalIncidents}</div>\r\n              <div className=\"stat-label\">V·ª• trong 30 ng√†y</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recommendation Panel */}\r\n      {stats.high > 0 && (\r\n        <div className=\"recommendation-panel\">\r\n          <div className=\"recommendation-header\">\r\n            <div className=\"rec-icon\">üí°</div>\r\n            <h4>Khuy·∫øn Ngh·ªã H√†nh ƒê·ªông</h4>\r\n          </div>\r\n          <div className=\"recommendation-content\">\r\n            <div className=\"rec-item priority\">\r\n              <strong>üéØ ∆Øu ti√™n cao nh·∫•t:</strong>\r\n              <p>\r\n                Tri·ªÉn khai l·ª±c l∆∞·ª£ng tu·∫ßn tra tƒÉng c∆∞·ªùng t·∫°i {stats.high} khu v·ª±c nguy c∆° cao, ƒë·∫∑c bi·ªát l√†{\" \"}\r\n                {filteredHotspots\r\n                  .filter((h) => h.risk === \"cao\")\r\n                  .slice(0, 3)\r\n                  .map((h) => h.district)\r\n                  .join(\", \")}\r\n              </p>\r\n            </div>\r\n            <div className=\"rec-item\">\r\n              <strong>üìÖ Khung gi·ªù:</strong>\r\n              <p>T·∫≠p trung v√†o khung gi·ªù 18:00 - 23:00 v√† 01:00 - 05:00 (chi·∫øm 70% c√°c v·ª•)</p>\r\n            </div>\r\n            <div className=\"rec-item\">\r\n              <strong>üîß Bi·ªán ph√°p:</strong>\r\n              <p>N√¢ng c·∫•p h·ªá th·ªëng camera, tƒÉng c∆∞·ªùng √°nh s√°ng ƒë∆∞·ªùng ph·ªë, ph·ªëi h·ª£p v·ªõi ban qu·∫£n l√Ω khu v·ª±c</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Action Panel - Hi·ªÉn th·ªã trong giao di·ªán thay v√¨ alert */}\r\n      {activeAction && selectedHotspot && (\r\n        <div className=\"action-panel-overlay\" onClick={closeActionPanel}>\r\n          <div className=\"action-panel\" onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"action-panel-header\">\r\n              <h3>\r\n                {activeAction === \"deploy\" && \"üöî Tri·ªÉn khai Tu·∫ßn tra\"}\r\n                {activeAction === \"detail\" && \"üìã Chi ti·∫øt ƒêi·ªÉm n√≥ng\"}\r\n                {activeAction === \"alert\" && \"üîî Thi·∫øt l·∫≠p C·∫£nh b√°o\"}\r\n              </h3>\r\n              <button className=\"close-btn\" onClick={closeActionPanel}>‚úï</button>\r\n            </div>\r\n\r\n            <div className=\"action-panel-content\">\r\n              {/* Deploy Patrol */}\r\n              {activeAction === \"deploy\" && (\r\n                <div className=\"deploy-panel\">\r\n                  <div className=\"info-row\">\r\n                    <strong>Ph∆∞·ªùng:</strong> {selectedHotspot.ward}\r\n                  </div>\r\n                  <div className=\"info-row\">\r\n                    <strong>Khu v·ª±c:</strong> {selectedHotspot.area}\r\n                  </div>\r\n                  <div className=\"info-row\">\r\n                    <strong>M·ª©c ƒë·ªô r·ªßi ro:</strong>\r\n                    <span className={`risk-level ${selectedHotspot.risk}`}>\r\n                      {selectedHotspot.risk.toUpperCase()}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"info-row\">\r\n                    <strong>X√°c su·∫•t:</strong> {selectedHotspot.probability}%\r\n                  </div>\r\n                  <div className=\"info-row\">\r\n                    <strong>Th·ªùi gian tƒÉng c∆∞·ªùng:</strong> {selectedHotspot.timePattern}\r\n                  </div>\r\n                  <div className=\"info-row\">\r\n                    <strong>T·ªça ƒë·ªô:</strong> {selectedHotspot.lat}, {selectedHotspot.lng}\r\n                  </div>\r\n                  <div className=\"recommendation-box\">\r\n                    <strong>üí° Khuy·∫øn ngh·ªã:</strong>\r\n                    <p>{selectedHotspot.recommendation}</p>\r\n                  </div>\r\n                  <button className=\"action-confirm-btn deploy\">\r\n                    ‚úÖ X√°c nh·∫≠n tri·ªÉn khai\r\n                  </button>\r\n                </div>\r\n              )}\r\n\r\n              {/* View Detail */}\r\n              {activeAction === \"detail\" && (\r\n                <div className=\"detail-panel\">\r\n                  <div className=\"info-row\">\r\n                    <strong>Ph∆∞·ªùng:</strong> {selectedHotspot.ward}\r\n                  </div>\r\n                  <div className=\"info-row\">\r\n                    <strong>Khu v·ª±c:</strong> {selectedHotspot.area}\r\n                  </div>\r\n                  <div className=\"info-row\">\r\n                    <strong>M·ª©c ƒë·ªô:</strong>\r\n                    <span className={`risk-level ${selectedHotspot.risk}`}>\r\n                      {selectedHotspot.risk.toUpperCase()}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"info-row\">\r\n                    <strong>X√°c su·∫•t:</strong> {selectedHotspot.probability}%\r\n                  </div>\r\n                  <div className=\"info-section\">\r\n                    <strong>üö® Lo·∫°i t·ªôi ph·∫°m:</strong>\r\n                    <ul>\r\n                      {selectedHotspot.crimeTypes.map((type, idx) => (\r\n                        <li key={idx}>{type}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                  <div className=\"info-section\">\r\n                    <strong>‚è∞ Th·ªùi gian cao ƒëi·ªÉm:</strong> {selectedHotspot.timePattern}\r\n                  </div>\r\n                  <div className=\"info-section\">\r\n                    <strong>üìÖ Ng√†y cao ƒëi·ªÉm:</strong> {selectedHotspot.peak}\r\n                  </div>\r\n                  <div className=\"info-section\">\r\n                    <strong>üîç Y·∫øu t·ªë nguy c∆°:</strong>\r\n                    <ul>\r\n                      {selectedHotspot.factors.map((factor, idx) => (\r\n                        <li key={idx}>{factor}</li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                  <div className=\"info-row\">\r\n                    <strong>üìä Xu h∆∞·ªõng:</strong> {selectedHotspot.trend} ({selectedHotspot.trendPercent > 0 ? '+' : ''}{selectedHotspot.trendPercent}%)\r\n                  </div>\r\n                  <div className=\"info-row\">\r\n                    <strong>üïê V·ª• g·∫ßn nh·∫•t:</strong> {selectedHotspot.lastIncident}\r\n                  </div>\r\n                  <div className=\"info-row\">\r\n                    <strong>üìà S·ªë v·ª• 30 ng√†y:</strong> {selectedHotspot.incidentCount30days}\r\n                  </div>\r\n                  <div className=\"recommendation-box\">\r\n                    <strong>üí° Khuy·∫øn ngh·ªã:</strong>\r\n                    <p>{selectedHotspot.recommendation}</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Set Alert */}\r\n              {activeAction === \"alert\" && (\r\n                <div className=\"alert-panel\">\r\n                  <div className=\"info-row\">\r\n                    <strong>Ph∆∞·ªùng:</strong> {selectedHotspot.ward}\r\n                  </div>\r\n                  <div className=\"info-row\">\r\n                    <strong>Khu v·ª±c:</strong> {selectedHotspot.area}\r\n                  </div>\r\n                  <div className=\"info-row\">\r\n                    <strong>M·ª©c ƒë·ªô:</strong>\r\n                    <span className={`risk-level ${selectedHotspot.risk}`}>\r\n                      {selectedHotspot.risk.toUpperCase()}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"info-row\">\r\n                    <strong>Th·ªùi gian:</strong> {selectedHotspot.timePattern}\r\n                  </div>\r\n                  <div className=\"alert-settings\">\r\n                    <h4>üì± Nh·∫≠n th√¥ng b√°o qua:</h4>\r\n                    <label className=\"checkbox-label\">\r\n                      <input type=\"checkbox\" defaultChecked /> SMS\r\n                    </label>\r\n                    <label className=\"checkbox-label\">\r\n                      <input type=\"checkbox\" defaultChecked /> Email\r\n                    </label>\r\n                    <label className=\"checkbox-label\">\r\n                      <input type=\"checkbox\" defaultChecked /> Push notification\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"alert-triggers\">\r\n                    <h4>Khi c√≥:</h4>\r\n                    <label className=\"checkbox-label\">\r\n                      <input type=\"checkbox\" defaultChecked /> V·ª• vi·ªác m·ªõi ph√°t sinh\r\n                    </label>\r\n                    <label className=\"checkbox-label\">\r\n                      <input type=\"checkbox\" defaultChecked /> Thay ƒë·ªïi m·ª©c ƒë·ªô r·ªßi ro\r\n                    </label>\r\n                    <label className=\"checkbox-label\">\r\n                      <input type=\"checkbox\" defaultChecked /> C·∫≠p nh·∫≠t xu h∆∞·ªõng\r\n                    </label>\r\n                  </div>\r\n                  <button className=\"action-confirm-btn alert\">\r\n                    üîî X√°c nh·∫≠n thi·∫øt l·∫≠p c·∫£nh b√°o\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HotspotPredictionTabV2;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}