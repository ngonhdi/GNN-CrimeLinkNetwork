{"ast":null,"code":"import React,{useState,useEffect}from\"react\";/**\r\n * AttentionVisualizer - Visualize Multi-Head Attention mechanism\r\n * Gi·∫£i th√≠ch c√°ch GNN s·ª≠ d·ª•ng attention ƒë·ªÉ t√¨m li√™n k·∫øt\r\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AttentionVisualizer=_ref=>{let{sourceCrime,relatedCrimes}=_ref;const[selectedHead,setSelectedHead]=useState(0);const[isAnimating,setIsAnimating]=useState(true);// Simulate 4 attention heads focusing on different aspects\nconst attentionHeads=[{name:\"Spatial Head\",emoji:\"üó∫Ô∏è\",focus:\"Kho·∫£ng c√°ch ƒë·ªãa l√Ω\",color:\"#3498db\",weights:relatedCrimes.map(c=>c.spatialWeight||Math.random())},{name:\"Temporal Head\",emoji:\"‚è∞\",focus:\"Kho·∫£ng th·ªùi gian\",color:\"#9b59b6\",weights:relatedCrimes.map(c=>c.temporalWeight||Math.random())},{name:\"Semantic Head\",emoji:\"üè∑Ô∏è\",focus:\"Lo·∫°i t·ªôi ph·∫°m\",color:\"#e67e22\",weights:relatedCrimes.map(c=>c.semanticWeight||Math.random())},{name:\"Behavioral Head\",emoji:\"üé≠\",focus:\"M√¥ h√¨nh h√†nh vi\",color:\"#1abc9c\",weights:relatedCrimes.map(()=>Math.random())}];useEffect(()=>{if(!isAnimating)return;const interval=setInterval(()=>{setSelectedHead(prev=>(prev+1)%attentionHeads.length);},3000);return()=>clearInterval(interval);},[isAnimating]);const currentHead=attentionHeads[selectedHead];return/*#__PURE__*/_jsxs(\"div\",{className:\"attention-visualizer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"attention-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"attention-title\",children:[/*#__PURE__*/_jsx(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"})}),\"C\\u01A1 ch\\u1EBF Ch\\xFA \\xFD \\u0110a \\u0111\\u1EA7u (Multi-Head Attention)\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"attention-subtitle\",children:\"M\\u1ED7i \\\"\\u0111\\u1EA7u ch\\xFA \\xFD\\\" ph\\xE2n t\\xEDch m\\u1ED9t kh\\xEDa c\\u1EA1nh kh\\xE1c nhau c\\u1EE7a v\\u1EE5 \\xE1n\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"attention-heads-selector\",children:attentionHeads.map((head,idx)=>/*#__PURE__*/_jsxs(\"button\",{className:\"attention-head-btn \".concat(selectedHead===idx?\"active\":\"\"),onClick:()=>{setSelectedHead(idx);setIsAnimating(false);},style:{borderColor:selectedHead===idx?head.color:\"#2a3f5f\",background:selectedHead===idx?head.color+\"11\":\"transparent\"},children:[/*#__PURE__*/_jsx(\"span\",{className:\"head-emoji\",children:head.emoji}),/*#__PURE__*/_jsx(\"span\",{className:\"head-name\",children:head.name})]},idx))}),/*#__PURE__*/_jsx(\"div\",{className:\"attention-controls\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"attention-toggle\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:isAnimating,onChange:e=>setIsAnimating(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{children:\"Auto-play\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"attention-main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"attention-focus-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"focus-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"focus-emoji\",children:currentHead.emoji}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"focus-name\",children:currentHead.name}),/*#__PURE__*/_jsx(\"p\",{className:\"focus-description\",children:currentHead.focus})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"attention-source\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"crime-node source\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"node-pulse\",style:{borderColor:currentHead.color}}),sourceCrime?sourceCrime.type:\"V·ª• √°n g·ªëc\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"attention-arrows\",children:relatedCrimes.slice(0,3).map((crime,idx)=>{const weight=currentHead.weights[idx]||0;return/*#__PURE__*/_jsxs(\"div\",{className:\"attention-connection\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"connection-line\",children:/*#__PURE__*/_jsx(\"div\",{className:\"connection-arrow\",style:{width:\"\".concat(weight*100,\"%\"),background:\"linear-gradient(90deg, \".concat(currentHead.color,\"00, \").concat(currentHead.color,\")\")},children:/*#__PURE__*/_jsx(\"svg\",{width:\"12\",height:\"12\",viewBox:\"0 0 24 24\",fill:currentHead.color,children:/*#__PURE__*/_jsx(\"path\",{d:\"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\"})})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"attention-weight\",children:[(weight*100).toFixed(0),\"%\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"crime-node target\",children:crime.type||\"V\\u1EE5 \".concat(idx+1)})]},idx);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"attention-explanation\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"\\uD83D\\uDCA1 \",currentHead.name,\" \\u0111ang ph\\xE2n t\\xEDch:\"]}),/*#__PURE__*/_jsxs(\"ul\",{children:[selectedHead===0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\uD83D\\uDCCD Kho\\u1EA3ng c\\xE1ch \\u0111\\u1ECBa l\\xFD gi\\u1EEFa c\\xE1c v\\u1EE5 \\xE1n\"}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83C\\uDFD9\\uFE0F C\\xE1c v\\u1EE5 g\\u1EA7n nhau (\",\"<\",\"1km) c\\xF3 tr\\u1ECDng s\\u1ED1 cao\"]}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uD83D\\uDDFA\\uFE0F Ph\\xE1t hi\\u1EC7n pattern di chuy\\u1EC3n theo kh\\xF4ng gian\"})]}),selectedHead===1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u23F1\\uFE0F Kho\\u1EA3ng th\\u1EDDi gian gi\\u1EEFa c\\xE1c v\\u1EE5 \\xE1n\"}),/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDCC5 C\\xE1c v\\u1EE5 x\\u1EA3y ra g\\u1EA7n nhau (\",\"<\",\"24h) c\\xF3 tr\\u1ECDng s\\u1ED1 cao\"]}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uD83D\\uDD04 Ph\\xE1t hi\\u1EC7n pattern ho\\u1EA1t \\u0111\\u1ED9ng theo th\\u1EDDi gian\"})]}),selectedHead===2&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\uD83C\\uDFF7\\uFE0F Lo\\u1EA1i t\\u1ED9i ph\\u1EA1m t\\u01B0\\u01A1ng t\\u1EF1 nhau\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uD83D\\uDCCA C\\xF9ng category c\\xF3 tr\\u1ECDng s\\u1ED1 cao\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uD83C\\uDFAF Ph\\xE1t hi\\u1EC7n chuy\\xEAn m\\xF4n h\\xF3a c\\u1EE7a t\\u1ED9i ph\\u1EA1m\"})]}),selectedHead===3&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\uD83C\\uDFAD M\\xF4 h\\xECnh h\\xE0nh vi (th\\u1EE7 \\u0111o\\u1EA1n ph\\u1EA1m t\\u1ED9i)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uD83D\\uDD0D Ph\\u01B0\\u01A1ng th\\u1EE9c th\\u1EF1c hi\\u1EC7n t\\u01B0\\u01A1ng \\u0111\\u1ED3ng\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uD83D\\uDC65 Ph\\xE1t hi\\u1EC7n \\\"\\u0111\\u1EB7c \\u0111i\\u1EC3m\\\" c\\u1EE7a nh\\xF3m \\u0111\\u1ED1i t\\u01B0\\u1EE3ng\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"attention-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83E\\uDDE0 C\\xE1ch ho\\u1EA1t \\u0111\\u1ED9ng:\"}),/*#__PURE__*/_jsxs(\"ol\",{className:\"info-steps\",children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"4 attention heads\"}),\" ho\\u1EA1t \\u0111\\u1ED9ng song song\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"M\\u1ED7i head t\\xEDnh \",/*#__PURE__*/_jsx(\"strong\",{children:\"attention score\"}),\" ri\\xEAng\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Scores \\u0111\\u01B0\\u1EE3c \",/*#__PURE__*/_jsx(\"strong\",{children:\"k\\u1EBFt h\\u1EE3p\"}),\" \\u0111\\u1EC3 ra d\\u1EF1 \\u0111o\\xE1n cu\\u1ED1i\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Model \",/*#__PURE__*/_jsx(\"strong\",{children:\"h\\u1ECDc t\\u1EF1 \\u0111\\u1ED9ng\"}),\" head n\\xE0o quan tr\\u1ECDng h\\u01A1n\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u2728 \\u01AFu \\u0111i\\u1EC3m:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"info-benefits\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\uD83C\\uDFAF Ph\\xE1t hi\\u1EC7n m\\u1ED1i li\\xEAn h\\u1EC7 t\\u1EEB nhi\\u1EC1u g\\xF3c \\u0111\\u1ED9\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uD83D\\uDD04 T\\u1EF1 \\u0111\\u1ED9ng \\u0111i\\u1EC1u ch\\u1EC9nh theo t\\u1EEBng v\\u1EE5 \\xE1n\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uD83E\\uDDE9 T\\xECm \\u0111\\u01B0\\u1EE3c m\\xF4 h\\xECnh ph\\u1EE9c t\\u1EA1p m\\xE0 ph\\u01B0\\u01A1ng ph\\xE1p truy\\u1EC1n th\\u1ED1ng kh\\xF3 ph\\xE1t hi\\u1EC7n\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"attention-aggregation\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"aggregation-title\",children:\"\\uD83D\\uDD00 K\\u1EBFt h\\u1EE3p t\\u1EEB t\\u1EA5t c\\u1EA3 attention heads\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"aggregation-formula\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"formula-part\",style:{color:attentionHeads[0].color},children:\"Spatial\"}),/*#__PURE__*/_jsx(\"span\",{className:\"formula-op\",children:\"\\u2295\"}),/*#__PURE__*/_jsx(\"span\",{className:\"formula-part\",style:{color:attentionHeads[1].color},children:\"Temporal\"}),/*#__PURE__*/_jsx(\"span\",{className:\"formula-op\",children:\"\\u2295\"}),/*#__PURE__*/_jsx(\"span\",{className:\"formula-part\",style:{color:attentionHeads[2].color},children:\"Semantic\"}),/*#__PURE__*/_jsx(\"span\",{className:\"formula-op\",children:\"\\u2295\"}),/*#__PURE__*/_jsx(\"span\",{className:\"formula-part\",style:{color:attentionHeads[3].color},children:\"Behavioral\"}),/*#__PURE__*/_jsx(\"span\",{className:\"formula-op\",children:\"=\"}),/*#__PURE__*/_jsx(\"span\",{className:\"formula-result\",children:\"K\\u1EBFt qu\\u1EA3 D\\u1EF1 \\u0111o\\xE1n\"})]})]})]});};export default AttentionVisualizer;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AttentionVisualizer","_ref","sourceCrime","relatedCrimes","selectedHead","setSelectedHead","isAnimating","setIsAnimating","attentionHeads","name","emoji","focus","color","weights","map","c","spatialWeight","Math","random","temporalWeight","semanticWeight","interval","setInterval","prev","length","clearInterval","currentHead","className","children","width","height","viewBox","fill","d","head","idx","concat","onClick","style","borderColor","background","type","checked","onChange","e","target","slice","crime","weight","toFixed"],"sources":["C:/Users/ADMIN/Downloads/crime-link-gnn/crime-link-gnn-fe-new/src/components/shared/AttentionVisualizer.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\n/**\r\n * AttentionVisualizer - Visualize Multi-Head Attention mechanism\r\n * Gi·∫£i th√≠ch c√°ch GNN s·ª≠ d·ª•ng attention ƒë·ªÉ t√¨m li√™n k·∫øt\r\n */\r\nconst AttentionVisualizer = ({ sourceCrime, relatedCrimes }) => {\r\n  const [selectedHead, setSelectedHead] = useState(0);\r\n  const [isAnimating, setIsAnimating] = useState(true);\r\n\r\n  // Simulate 4 attention heads focusing on different aspects\r\n  const attentionHeads = [\r\n    {\r\n      name: \"Spatial Head\",\r\n      emoji: \"üó∫Ô∏è\",\r\n      focus: \"Kho·∫£ng c√°ch ƒë·ªãa l√Ω\",\r\n      color: \"#3498db\",\r\n      weights: relatedCrimes.map((c) => c.spatialWeight || Math.random()),\r\n    },\r\n    {\r\n      name: \"Temporal Head\",\r\n      emoji: \"‚è∞\",\r\n      focus: \"Kho·∫£ng th·ªùi gian\",\r\n      color: \"#9b59b6\",\r\n      weights: relatedCrimes.map((c) => c.temporalWeight || Math.random()),\r\n    },\r\n    {\r\n      name: \"Semantic Head\",\r\n      emoji: \"üè∑Ô∏è\",\r\n      focus: \"Lo·∫°i t·ªôi ph·∫°m\",\r\n      color: \"#e67e22\",\r\n      weights: relatedCrimes.map((c) => c.semanticWeight || Math.random()),\r\n    },\r\n    {\r\n      name: \"Behavioral Head\",\r\n      emoji: \"üé≠\",\r\n      focus: \"M√¥ h√¨nh h√†nh vi\",\r\n      color: \"#1abc9c\",\r\n      weights: relatedCrimes.map(() => Math.random()),\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    if (!isAnimating) return;\r\n\r\n    const interval = setInterval(() => {\r\n      setSelectedHead((prev) => (prev + 1) % attentionHeads.length);\r\n    }, 3000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [isAnimating]);\r\n\r\n  const currentHead = attentionHeads[selectedHead];\r\n\r\n  return (\r\n    <div className=\"attention-visualizer\">\r\n      {/* Header */}\r\n      <div className=\"attention-header\">\r\n        <h3 className=\"attention-title\">\r\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n            <path d=\"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\" />\r\n          </svg>\r\n          C∆° ch·∫ø Ch√∫ √Ω ƒêa ƒë·∫ßu (Multi-Head Attention)\r\n        </h3>\r\n        <p className=\"attention-subtitle\">\r\n          M·ªói \"ƒë·∫ßu ch√∫ √Ω\" ph√¢n t√≠ch m·ªôt kh√≠a c·∫°nh kh√°c nhau c·ªßa v·ª• √°n\r\n        </p>\r\n      </div>\r\n\r\n      {/* Attention Heads Selector */}\r\n      <div className=\"attention-heads-selector\">\r\n        {attentionHeads.map((head, idx) => (\r\n          <button\r\n            key={idx}\r\n            className={`attention-head-btn ${selectedHead === idx ? \"active\" : \"\"}`}\r\n            onClick={() => {\r\n              setSelectedHead(idx);\r\n              setIsAnimating(false);\r\n            }}\r\n            style={{\r\n              borderColor: selectedHead === idx ? head.color : \"#2a3f5f\",\r\n              background: selectedHead === idx ? head.color + \"11\" : \"transparent\",\r\n            }}\r\n          >\r\n            <span className=\"head-emoji\">{head.emoji}</span>\r\n            <span className=\"head-name\">{head.name}</span>\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Auto-play toggle */}\r\n      <div className=\"attention-controls\">\r\n        <label className=\"attention-toggle\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={isAnimating}\r\n            onChange={(e) => setIsAnimating(e.target.checked)}\r\n          />\r\n          <span>Auto-play</span>\r\n        </label>\r\n      </div>\r\n\r\n      {/* Current Head Visualization */}\r\n      <div className=\"attention-main\">\r\n        <div className=\"attention-focus-card\">\r\n          <div className=\"focus-header\">\r\n            <span className=\"focus-emoji\">{currentHead.emoji}</span>\r\n            <div>\r\n              <h4 className=\"focus-name\">{currentHead.name}</h4>\r\n              <p className=\"focus-description\">{currentHead.focus}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Source Crime */}\r\n          <div className=\"attention-source\">\r\n            <div className=\"crime-node source\">\r\n              <div className=\"node-pulse\" style={{ borderColor: currentHead.color }} />\r\n              {sourceCrime ? sourceCrime.type : \"V·ª• √°n g·ªëc\"}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Attention Arrows */}\r\n          <div className=\"attention-arrows\">\r\n            {relatedCrimes.slice(0, 3).map((crime, idx) => {\r\n              const weight = currentHead.weights[idx] || 0;\r\n              return (\r\n                <div key={idx} className=\"attention-connection\">\r\n                  <div className=\"connection-line\">\r\n                    <div\r\n                      className=\"connection-arrow\"\r\n                      style={{\r\n                        width: `${weight * 100}%`,\r\n                        background: `linear-gradient(90deg, ${currentHead.color}00, ${currentHead.color})`,\r\n                      }}\r\n                    >\r\n                      <svg\r\n                        width=\"12\"\r\n                        height=\"12\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        fill={currentHead.color}\r\n                      >\r\n                        <path d=\"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\" />\r\n                      </svg>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"attention-weight\">\r\n                    {(weight * 100).toFixed(0)}%\r\n                  </div>\r\n                  <div className=\"crime-node target\">\r\n                    {crime.type || `V·ª• ${idx + 1}`}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Explanation */}\r\n        <div className=\"attention-explanation\">\r\n          <h4>üí° {currentHead.name} ƒëang ph√¢n t√≠ch:</h4>\r\n          <ul>\r\n            {selectedHead === 0 && (\r\n              <>\r\n                <li>üìç Kho·∫£ng c√°ch ƒë·ªãa l√Ω gi·ªØa c√°c v·ª• √°n</li>\r\n                <li>üèôÔ∏è C√°c v·ª• g·∫ßn nhau ({\"<\"}1km) c√≥ tr·ªçng s·ªë cao</li>\r\n                <li>üó∫Ô∏è Ph√°t hi·ªán pattern di chuy·ªÉn theo kh√¥ng gian</li>\r\n              </>\r\n            )}\r\n            {selectedHead === 1 && (\r\n              <>\r\n                <li>‚è±Ô∏è Kho·∫£ng th·ªùi gian gi·ªØa c√°c v·ª• √°n</li>\r\n                <li>üìÖ C√°c v·ª• x·∫£y ra g·∫ßn nhau ({\"<\"}24h) c√≥ tr·ªçng s·ªë cao</li>\r\n                <li>üîÑ Ph√°t hi·ªán pattern ho·∫°t ƒë·ªông theo th·ªùi gian</li>\r\n              </>\r\n            )}\r\n            {selectedHead === 2 && (\r\n              <>\r\n                <li>üè∑Ô∏è Lo·∫°i t·ªôi ph·∫°m t∆∞∆°ng t·ª± nhau</li>\r\n                <li>üìä C√πng category c√≥ tr·ªçng s·ªë cao</li>\r\n                <li>üéØ Ph√°t hi·ªán chuy√™n m√¥n h√≥a c·ªßa t·ªôi ph·∫°m</li>\r\n              </>\r\n            )}\r\n            {selectedHead === 3 && (\r\n              <>\r\n                <li>üé≠ M√¥ h√¨nh h√†nh vi (th·ªß ƒëo·∫°n ph·∫°m t·ªôi)</li>\r\n                <li>üîç Ph∆∞∆°ng th·ª©c th·ª±c hi·ªán t∆∞∆°ng ƒë·ªìng</li>\r\n                <li>üë• Ph√°t hi·ªán \"ƒë·∫∑c ƒëi·ªÉm\" c·ªßa nh√≥m ƒë·ªëi t∆∞·ª£ng</li>\r\n              </>\r\n            )}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      {/* How it works */}\r\n      <div className=\"attention-info\">\r\n        <div className=\"info-card\">\r\n          <h4>üß† C√°ch ho·∫°t ƒë·ªông:</h4>\r\n          <ol className=\"info-steps\">\r\n            <li>\r\n              <strong>4 attention heads</strong> ho·∫°t ƒë·ªông song song\r\n            </li>\r\n            <li>\r\n              M·ªói head t√≠nh <strong>attention score</strong> ri√™ng\r\n            </li>\r\n            <li>\r\n              Scores ƒë∆∞·ª£c <strong>k·∫øt h·ª£p</strong> ƒë·ªÉ ra d·ª± ƒëo√°n cu·ªëi\r\n            </li>\r\n            <li>\r\n              Model <strong>h·ªçc t·ª± ƒë·ªông</strong> head n√†o quan tr·ªçng h∆°n\r\n            </li>\r\n          </ol>\r\n        </div>\r\n\r\n        <div className=\"info-card\">\r\n          <h4>‚ú® ∆Øu ƒëi·ªÉm:</h4>\r\n          <ul className=\"info-benefits\">\r\n            <li>üéØ Ph√°t hi·ªán m·ªëi li√™n h·ªá t·ª´ nhi·ªÅu g√≥c ƒë·ªô</li>\r\n            <li>üîÑ T·ª± ƒë·ªông ƒëi·ªÅu ch·ªânh theo t·ª´ng v·ª• √°n</li>\r\n            <li>üß© T√¨m ƒë∆∞·ª£c m√¥ h√¨nh ph·ª©c t·∫°p m√† ph∆∞∆°ng ph√°p truy·ªÅn th·ªëng kh√≥ ph√°t hi·ªán</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Final aggregation visualization */}\r\n      <div className=\"attention-aggregation\">\r\n        <h4 className=\"aggregation-title\">\r\n          üîÄ K·∫øt h·ª£p t·ª´ t·∫•t c·∫£ attention heads\r\n        </h4>\r\n        <div className=\"aggregation-formula\">\r\n          <span className=\"formula-part\" style={{ color: attentionHeads[0].color }}>\r\n            Spatial\r\n          </span>\r\n          <span className=\"formula-op\">‚äï</span>\r\n          <span className=\"formula-part\" style={{ color: attentionHeads[1].color }}>\r\n            Temporal\r\n          </span>\r\n          <span className=\"formula-op\">‚äï</span>\r\n          <span className=\"formula-part\" style={{ color: attentionHeads[2].color }}>\r\n            Semantic\r\n          </span>\r\n          <span className=\"formula-op\">‚äï</span>\r\n          <span className=\"formula-part\" style={{ color: attentionHeads[3].color }}>\r\n            Behavioral\r\n          </span>\r\n          <span className=\"formula-op\">=</span>\r\n          <span className=\"formula-result\">K·∫øt qu·∫£ D·ª± ƒëo√°n</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttentionVisualizer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}